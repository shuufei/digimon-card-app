<h1>vs app</h1>

<div class="p-4">
  <button mat-flat-button color="primary" (click)="onReset$.next()">
    reset
  </button>
</div>

<ng-container *ngIf="gs$ | async as gs">
  <div class="flex">
    <mat-card class="flex-1">
      <h3>セキュリティオープンエリア</h3>
    </mat-card>

    <mat-card class="flex-1">
      <h3>山札オープンエリア</h3>
    </mat-card>
  </div>

  <div class="flex">
    <div class="">
      <mat-card>
        <h3>セキュリティ</h3>
      </mat-card>
    </div>

    <div class="flex-1">
      <mat-card>
        <h3>
          バトルエリア <span>{{ gs.battleArea.digimonList.length }}</span>
        </h3>
        <div class="mt-2 flex flex-wrap">
          <ng-container *ngFor="let digimon of gs.battleArea.digimonList">
            <digimon-card-app-digimon
              [digimon]="digimon"
              [actionList]="battleAreaCardActionList"
              (selected)="onSelectDigimonCard$.next(digimon)"
              (action)="onActionFromBattleArea$.next($event)"
              class="w-20"
              [ngClass]="[digimon.isRest ? 'mx-5 my-1' : 'm-1']"
            ></digimon-card-app-digimon>
          </ng-container>
        </div>
      </mat-card>

      <mat-card>
        <h3>オプション</h3>
        <div class="mt-2 flex">
          <ng-container *ngFor="let card of gs.optionArea.cardList">
            <digimon-card-app-card
              [card]="card"
              class="w-20 m-1"
            ></digimon-card-app-card>
          </ng-container>
        </div>
      </mat-card>

      <mat-card>
        <h3>テイマー</h3>
        <div class="mt-2 flex">
          <ng-container *ngFor="let card of gs.tamerArea.cardList">
            <digimon-card-app-card
              [card]="card"
              class="w-20 m-1"
            ></digimon-card-app-card>
          </ng-container>
        </div>
      </mat-card>
    </div>

    <div class="">
      <mat-card>
        <h3>
          山札<span>
            {{ gs.stack.cardList.length }}
          </span>
        </h3>
        <button mat-stroked-button (click)="onStackShuffle$.next()">
          shuffle
        </button>
        <button mat-stroked-button (click)="onDrawFromStack$.next()">
          draw
        </button>
      </mat-card>
      <mat-card>
        <h3>トラッシュ</h3>
      </mat-card>
    </div>
  </div>

  <mat-card class="hand-area">
    <h3>
      手札
      <span>{{ gs.hand.cardList.length }}</span>
    </h3>
    <div class="m-2 flex flex-wrap">
      <ng-container *ngFor="let card of gs.hand.cardList">
        <digimon-card-app-card
          [card]="card"
          [actionList]="handCardActionList"
          (action)="onActionFromHand$.next($event)"
          class="w-20 m-1"
        ></digimon-card-app-card>
      </ng-container>
    </div>
  </mat-card>
</ng-container>
